<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Outil de v√©rification de propri√©t√©s</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 30px;
      line-height: 1.6;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      padding-left: 20px;
      padding-right: 20px;
    }
    input[type="text"], select {
      width: 100%;
      padding: 10px;
      margin-top: 8px;
      margin-bottom: 20px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    label {
      display: inline-block;
      margin-right: 10px;
      margin-top: 5px;
    }
    button {
      padding: 10px 20px;
      background-color: #007BFF;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .result {
      margin-top: 40px;
      padding: 20px;
      background-color: #f4f4f4;
      border-radius: 10px;
    }
    .category {
      margin-top: 25px;
    }
    a {
      color: #007BFF;
      text-decoration: underline;
    }
    small {
      display: block;
      margin-top: 5px;
      color: gray;
    }
    .address-banner {
      background-color: #d1ecf1;
      color: #0c5460;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
      font-weight: bold;
    }
    .checkbox-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .checkbox-group label {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }
    .severity {
      margin-left: 5px;
      font-size: 0.9em;
      font-weight: bold;
    }
    .high {
      color: #d9534f; /* red */
    }
    .medium {
      color: #f0ad4e; /* orange */
    }
    .low {
      color: #5cb85c; /* green */
    }
  </style>
</head>
<body>

  <h1>Outil de v√©rification de propri√©t√©s</h1>

  <form id="verifyForm">
    <label for="address"><strong>Entrez l'adresse de la propri√©t√© :</strong></label>
    <input type="text" id="address" placeholder="Ex : 123 Rue Principale, Laval" required>

    <p><strong>S√©lectionnez les cat√©gories de risques que vous souhaitez v√©rifier :</strong></p>
    <div class="checkbox-group">
      <label><input type="checkbox" name="category" value="flood"> Inondation <span class="severity high">(√âlev√©)</span></label>
      <label><input type="checkbox" name="category" value="contamination"> Contamination du sol <span class="severity high">(√âlev√©)</span></label>
      <label><input type="checkbox" name="category" value="lead"> Pr√©sence de plomb dans l'eau <span class="severity medium">(Moyen)</span></label>
      <label><input type="checkbox" name="category" value="radon"> Radon <span class="severity medium">(Moyen)</span></label>
      <label><input type="checkbox" name="category" value="pipelines"> Pipelines <span class="severity low">(Faible)</span></label>
      <label><input type="checkbox" name="category" value="urbanism"> R√®glements d'urbanisme <span class="severity low">(Faible)</span></label>

      <small style="margin-top: 20px;">
        <a href="risques.html" target="_blank">üîé Plus d'information sur la classification des risques</a>
      </small>
    </div>
  
    </br></br>

    <button type="submit">V√©rifier la propri√©t√©</button>
  </form>

  <div id="results" class="result"></div>

  <script>
    const form = document.getElementById('verifyForm');
    const resultsDiv = document.getElementById('results');

    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const address = document.getElementById('address').value.trim();
      const selectedCategories = [...document.querySelectorAll('input[name="category"]:checked')].map(e => e.value);

      if (selectedCategories.length === 0) {
        alert('S√©lectionnez au moins une cat√©gorie √† v√©rifier.');
        return;
      }

      let output = `
        <div class="address-banner">
          üìç Adresse de la propri√©t√© √† v√©rifier :<br><br> ${address} <br><br>
          <small>‚ö†Ô∏è Lors de l'ouverture des outils ci-dessous, copiez et collez cette adresse manuellement dans la barre de recherche de chaque outil.</small>
        </div>
      `;

      selectedCategories.forEach(category => {
        if (category === 'flood') {
          output += `
            <div class="category">
              <h3>üåä Risque d'inondation</h3>
              <p><a href="https://www.cehq.gouv.qc.ca/zones-inond/carte-esri/index.html" target="_blank">V√©rifiez les zones inondables (Carte du QC)</a></p>
              <small>Collez votre adresse dans la barre de recherche de la carte une fois charg√©e.</small>
            </div>
          `;
        }
        if (category === 'contamination') {
          output += `
            <div class="category">
              <h3>üß™ Contamination du sol</h3>
              <p><a href="https://www.pes1.enviroweb.gouv.qc.ca/AtlasPublic/CartesPubliques/cartesmddelcc.html?cfg=TerrainsContamines.json" target="_blank">Carte des terrains contamin√©s (Qu√©bec)</a></p>
              <p><a href="https://map-carte.tbs-sct.gc.ca/map-carte/fcsi-rscf/map-carte.aspx?Language=FR&qid=544002" target="_blank">Carte des sites contamin√©s f√©d√©raux (Canada)</a></p>
              <small>Localisez votre propri√©t√© manuellement en zoomant sur la carte.</small>
            </div>
          `;
        }
        if (category === 'pipelines') {
          output += `
            <div class="category">
              <h3>üõ¢Ô∏è Pipelines</h3>
              <p><a href="https://neb-gis.maps.arcgis.com/apps/webappviewer/index.html?id=adbba27734c04a0ebcd66bc62aaa5957&locale=fr" target="_blank">V√©rifiez la pr√©sence de pipelines pr√®s de la propri√©t√©</a></p>
              <small>Zoomez sur la zone de votre propri√©t√© pour v√©rifier la pr√©sence de pipelines.</small>
            </div>
          `;
        }
        if (category === 'urbanism') {
          output += `
            <div class="category">
              <h3>üèòÔ∏è R√®glements d'urbanisme</h3>
              <p><a href="https://info-reglements.laval.ca/recherche" target="_blank">Recherche des r√®glements d'urbanisme</a></p>
              <small>Recherchez par num√©ro civique et nom de rue apr√®s avoir ouvert l'outil.</small>
            </div>
          `;
        }
        if (category === 'lead') {
          output += `
            <div class="category">
              <h3>üö∞ Pr√©sence de plomb dans l'eau (Montr√©al)</h3>
              <p><a href="https://services.montreal.ca/presence-plomb/" target="_blank">V√©rifiez la pr√©sence d'entr√©es d'eau en plomb</a></p>
              <small>Entrez votre adresse pour v√©rifier la pr√©sence √©ventuelle de tuyaux en plomb dans votre secteur.</small>
            </div>
          `;
        }
        if (category === 'radon') {
          output += `
            <div class="category">
              <h3>üè† Risque de radon</h3>
              <p><a href="https://poumonquebec.ca/sante-pulmonaire/environnement/radon/" target="_blank">Comprendre les risques li√©s au radon</a></p>
              <small>Risque g√©n√©ral bas√© sur le code postal ou la zone g√©ographique ‚Äî pas de recherche par adresse sp√©cifique disponible pour l'instant.</small>
            </div>
          `;
        }
      });

      resultsDiv.innerHTML = output;
    });
  </script>

</body>
</html>
